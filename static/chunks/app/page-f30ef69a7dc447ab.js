(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{4445:function(e,s,t){Promise.resolve().then(t.bind(t,2540))},2540:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return M}});var r=t(7437),l=t(2265),n=t(7818),a=t(6648),i=e=>{let{children:s}=e;return(0,r.jsx)("div",{className:"authWrapper",children:(0,r.jsxs)("div",{className:"bg-glass-dark backdrop-blur-md bg-opacity-50 authInnerWrapper",children:[(0,r.jsx)("div",{className:" flex items-center justify-center mb-2",children:(0,r.jsx)(a.default,{src:"/svg/logo.svg",alt:"",width:50,height:50})}),s]})})},o=e=>{let{children:s,type:t,onClick:l}=e;return(0,r.jsx)("button",{onClick:l,type:t,className:"w-full bg-indigo-500 text-white py-2 rounded hover:bg-indigo-600 transition duration-200 mb-2",children:s})},d=e=>{let{setIsNewUser:s,handleSignUp:t}=e,[n,a]=(0,l.useState)(""),[i,d]=(0,l.useState)(""),[c,u]=(0,l.useState)(""),[x,h]=(0,l.useState)(""),m=async e=>{if(e.preventDefault(),c!==x){alert("Passwords do not match!");return}try{await t(n,i,c)}catch(e){console.error("Sign up error",e)}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h2",{className:"text-2xl font-bold mb-6 text-center text-gray-200",children:"Sign Up"}),(0,r.jsxs)("form",{onSubmit:m,children:[(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{htmlFor:"name",className:"block text-pink-500 mb-2",children:"Name"}),(0,r.jsx)("input",{type:"text",id:"name",className:"w-full px-4 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-indigo-500",value:n,onChange:e=>a(e.target.value),required:!0})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{htmlFor:"email",className:"block text-pink-500 mb-2",children:"Email"}),(0,r.jsx)("input",{type:"email",id:"email",className:"w-full px-4 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-indigo-500",value:i,onChange:e=>d(e.target.value),required:!0})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{htmlFor:"password",className:"block text-pink-500 mb-2",children:"Password"}),(0,r.jsx)("input",{type:"password",id:"password",className:"w-full px-4 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-indigo-500",value:c,onChange:e=>u(e.target.value),required:!0})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("label",{htmlFor:"confirmPassword",className:"block text-pink-500 mb-2",children:"Confirm Password"}),(0,r.jsx)("input",{type:"password",id:"confirmPassword",className:"w-full px-4 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-indigo-500",value:x,onChange:e=>h(e.target.value),required:!0})]}),(0,r.jsx)(o,{type:"submit",children:"Sign Up"})]}),(0,r.jsx)("a",{className:"text-center mt-2 small underline text-blue-500 cursor-pointer",onClick:()=>{s(!1)},children:"Already have an account? Log In"})]})},c=e=>{let{setIsNewUser:s,handleLogin:t}=e,[n,a]=(0,l.useState)(""),[i,d]=(0,l.useState)("");return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h2",{className:"text-2xl font-bold mb-6 text-center text-gray-200",children:"Log In"}),(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),t(n,i)},children:[(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{htmlFor:"email",className:"block text-pink-500 mb-2",children:"Email"}),(0,r.jsx)("input",{type:"email",id:"email",className:"  w-full px-4 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-indigo-500",value:n,onChange:e=>a(e.target.value),required:!0,style:{color:"black"}})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("label",{htmlFor:"password",className:"block text-pink-500 mb-2",children:"Password"}),(0,r.jsx)("input",{type:"password",id:"password",className:"w-full px-4 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-indigo-500",value:i,onChange:e=>d(e.target.value),required:!0,style:{color:"black"}})]}),(0,r.jsx)(o,{type:"submit",children:"Login"})]}),(0,r.jsx)("a",{className:"text-center mt-2 small underline text-blue-500 cursor-pointer",onClick:()=>{s(!0)},children:"Don`t have an account? Sign Up"})]})};let u=t(8472).Z.create({baseURL:"https://x8ki-letl-twmt.n7.xano.io/api:SSOLzzIz",headers:{"Content-Type":"application/json"}});u.interceptors.request.use(e=>{let s=localStorage.getItem("token");return s&&(e.headers.Authorization="Bearer ".concat(s)),e},e=>Promise.reject(e));let x=async(e,s)=>{let t=await u.post("/auth/login",{email:e,password:s}),{authToken:r}=t.data;return localStorage.setItem("token",r),t.data},h=async(e,s,t)=>{let r=await u.post("/auth/signup",{name:e,email:s,password:t}),{authToken:l}=r.data;return localStorage.setItem("token",l),r.data},m=async()=>{try{return(await u.get("/auth/me")).data}catch(e){if(e.response&&401===e.response.status)return null;throw e}};var g=()=>(0,r.jsx)("div",{id:"preloader",className:"preloader",children:(0,r.jsx)("div",{className:"spinner"})}),f=()=>(0,r.jsxs)("div",{className:"flex justify-between w-full h-16 p-5 items-center border-b border-gray-700 bg-blue-500 rounded flex-row",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(a.default,{src:"/img/avatar.png",alt:"",width:50,height:50}),(0,r.jsx)("h4",{className:"font-bold text-lg",children:"Chatbot"})]}),(0,r.jsx)("div",{className:"burgerMenu",children:(0,r.jsx)("svg",{className:"h-8 w-8 text-gray-200",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})})})]}),p=e=>{let{onSendMessage:s}=e,[t,n]=(0,l.useState)(""),a=()=>{t.trim()&&(s(t),n(""))};return(0,r.jsxs)("div",{className:"flex items-center justify-between pt-2",children:[(0,r.jsx)("input",{type:"text",value:t,onChange:e=>n(e.target.value),onKeyPress:e=>{"Enter"===e.key&&a()},placeholder:"Reply to Chatbot...",className:"text-gray-800 flex-grow rounded-lg p-3 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent"}),(0,r.jsx)("button",{onClick:a,className:"ml-3 bg-blue-500 text-white py-3 px-4 rounded-lg hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-opacity-75",children:"Send!"})]})},j=t(6800),b=t.n(j),v=e=>{let{message:s,sender:t,timestamp:l,isSent:n}=e;return(0,r.jsx)("div",{className:b()("flex h-fit",{"justify-end":n,"justify-start":!n}),children:(0,r.jsxs)("div",{className:b()("max-w-xs md:max-w-md lg:max-w-lg p-3 m-2 rounded-lg",{"bg-blue-500 text-white":n,"bg-gray-200 text-gray-900":!n}),children:[(0,r.jsxs)("div",{className:"text-sm mb-1",children:[(0,r.jsx)("span",{className:"font-semibold",children:t}),(0,r.jsx)("span",{className:"text-gray-500 ml-2 text-xs",children:l})]}),(0,r.jsx)("div",{className:"break-words",children:s})]})})},w=e=>{let{children:s}=e,t=(0,l.useRef)(null),n=()=>{t.current&&t.current.scrollIntoView({behavior:"smooth"})};return(0,l.useEffect)(()=>{n();let e=()=>{n()};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[s]),(0,r.jsxs)("div",{className:"flex flex-grow h-full overflow-y-auto flex-col",children:[s,(0,r.jsx)("div",{ref:t})]})},y=()=>(0,r.jsx)("div",{className:"flex h-fit justify-start",children:(0,r.jsx)("div",{className:b()("max-w-xs md:max-w-md lg:max-w-lg p-3 m-2 rounded-lg bg-gray-300 text-gray-900"),children:(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsxs)("div",{className:"animate-pulse flex space-x-1",children:[(0,r.jsx)("div",{className:"w-2 h-2 bg-gray-500 rounded-full"}),(0,r.jsx)("div",{className:"w-2 h-2 bg-gray-500 rounded-full"}),(0,r.jsx)("div",{className:"w-2 h-2 bg-gray-500 rounded-full"})]})})})}),N=()=>{let[e,s]=(0,l.useState)([]),[t,n]=(0,l.useState)(!1),a=()=>{let e=new Date,s=e.getHours().toString().padStart(2,"0"),t=e.getMinutes().toString().padStart(2,"0");return"".concat(s,":").concat(t)};return(0,r.jsxs)("div",{className:" flex flex-grow flex-col justify-between w-4/6 h-full rounded relative",children:[(0,r.jsx)(f,{}),(0,r.jsxs)(w,{isTyping:t,children:[e.map(e=>(0,r.jsx)(v,{message:e.text,sender:e.sender,timestamp:e.timestamp,isSent:e.isSent},e.id)),t&&(0,r.jsx)(y,{})]}),(0,r.jsx)(p,{onSendMessage:t=>{let r={id:e.length,text:t,sender:"Me",timestamp:a(),isSent:!0,isChatbot:!1};s([...e,r]),n(!0),setTimeout(()=>{n(!1);let t={id:e.length+1,text:"This is a chatbot response.",sender:"Chatbot",timestamp:a(),isSent:!1,isChatbot:!0};s([...e,r,t])},2e3)}})]})},k=()=>(0,r.jsxs)("div",{className:"flex justify-between w-full h-16 p-5 items-center border-b border-gray-700 bg-blue-500 rounded",children:[(0,r.jsx)("h4",{className:"font-bold text-lg",children:"Conversations"}),(0,r.jsx)("div",{className:"cursor-pointer",children:(0,r.jsxs)("svg",{className:"h-8 w-8 text-gray-200",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",children:[(0,r.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z"}),(0,r.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),(0,r.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})]}),S=e=>{let{title:s,isActive:t,onClick:l}=e;return(0,r.jsxs)("div",{className:"cursor-pointer flex justify-between w-full px-5 py-4 items-center border border-gray-700 rounded ".concat(t?"bg-indigo-600":""),onClick:l,children:[(0,r.jsx)("h4",{children:s}),(0,r.jsx)("div",{children:(0,r.jsxs)("svg",{className:"h-8 w-8 text-gray-200",width:"24",height:"24",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z"}),(0,r.jsx)("line",{x1:"4",y1:"7",x2:"20",y2:"7"}),(0,r.jsx)("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),(0,r.jsx)("line",{x1:"14",y1:"11",x2:"14",y2:"17"}),(0,r.jsx)("path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"}),(0,r.jsx)("path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"})]})})]})},C=()=>{let[e,s]=(0,l.useState)(null);return(0,r.jsxs)("div",{className:"sidebarWrapper flex flex-grow w-2/6 min-h-full gap-4 flex-col rounded",children:[(0,r.jsx)(k,{}),(0,r.jsxs)("div",{className:"flex bg-gray-800 h-full flex-col gap-2 overflow-y-auto p-2 rounded",children:[(0,r.jsx)(S,{title:"Conversation 1",isActive:1===e,onClick:()=>s(1)}),(0,r.jsx)(S,{title:"Conversation 2",isActive:2===e,onClick:()=>s(2)}),(0,r.jsx)(S,{title:"Conversation 3",isActive:3===e,onClick:()=>s(3)})]})]})},I=e=>{let{handleLogout:s}=e;return(0,r.jsxs)("main",{className:"chatWrapper flex h-screen flex-col items-center justify-between ",children:[(0,r.jsxs)("div",{className:"flex justify-between w-full h-16 px-5 py-4 items-center border-b border-gray-700",children:[(0,r.jsx)(a.default,{src:"/svg/logo.svg",alt:"",width:50,height:50}),(0,r.jsx)("div",{className:"w-28",children:(0,r.jsx)(o,{onClick:s,children:"Logout"})})]}),(0,r.jsxs)("div",{className:"flex flex-grow gap-5 justify-evenly w-full h-full p-5 overflow-hidden chatInnerWrapper",children:[(0,r.jsx)(C,{}),(0,r.jsx)(N,{})]})]})};let L=(0,n.default)(()=>Promise.all([t.e(210),t.e(351)]).then(t.bind(t,9721)),{loadableGenerated:{webpack:()=>[9721]},ssr:!1});function M(){let[e,s]=(0,l.useState)(!1),[t,n]=(0,l.useState)(null),[a,o]=(0,l.useState)(!0),u=async(e,s)=>{await x(e,s),n(await m())},f=async(e,t,r)=>{await h(e,t,r),s(!1)};return((0,l.useEffect)(()=>{(async function(){n(await m()),o(!1)})()},[]),a)?(0,r.jsx)(g,{}):t?(0,r.jsx)(I,{handleLogout:()=>{n(null),localStorage.removeItem("token")}}):(0,r.jsxs)("main",{className:"flex min-h-screen flex-col items-center justify-between",children:[(0,r.jsxs)("div",{className:"sceneWrapper",children:[" ",(0,r.jsx)(L,{})]}),(0,r.jsx)(i,{children:e?(0,r.jsx)(d,{setIsNewUser:s,handleSignUp:f}):(0,r.jsx)(c,{setIsNewUser:s,handleLogin:u})})]})}}},function(e){e.O(0,[670,971,23,744],function(){return e(e.s=4445)}),_N_E=e.O()}]);